!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var o;o="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,o.sonar=e()}}(function(){var e,o,t;return function e(o,t,n){function r(l,f){if(!t[l]){if(!o[l]){var c="function"==typeof require&&require;if(!f&&c)return c(l,!0);if(i)return i(l,!0);var a=new Error("Cannot find module '"+l+"'");throw a.code="MODULE_NOT_FOUND",a}var u=t[l]={exports:{}};o[l][0].call(u.exports,function(e){var t=o[l][1][e];return r(t?t:e)},u,u.exports,e,o,t,n)}return t[l].exports}for(var i="function"==typeof require&&require,l=0;l<n.length;l++)r(n[l]);return r}({1:[function(e,o,t){function n(){}var r=window,i=document,l=i.body,f,c={},a=0,u="scrollin",p="scrollout";c[u]=[],c[p]=[],n.prototype.detect=function(e,o,t){var n,f,c,a,u,p;if(e){if(l||(l=i.body),n=e,f=0,c=l.offsetHeight,a=r.innerHeight||i.documentElement.clientHeight||l.clientHeight||0,u=i.documentElement.scrollTop||r.pageYOffset||l.scrollTop||0,p=e.offsetHeight||0,!e.sonarElemTop||e.sonarBodyHeight!==c){if(n.offsetParent)do f+=n.offsetTop;while(n=n.offsetParent);e.sonarElemTop=f,e.sonarBodyHeight=c}return o=void 0===o?0:o,!(e.sonarElemTop+(t?0:p)<u-o||e.sonarElemTop+(t?p:0)>u+a+o)}},n.prototype.addSonar=function(e,o){var t=o.px,n=o.full,i=o.evt,l=this.detect(e,t,n),f=0;e["_"+i]=1,(i===p?!l:l)&&(o.callback&&o.callback.apply(e,[]),f=1),c[i].push({elem:e,px:t,full:n,tr:f,callback:o.callback}),a||(r.onscroll=this.poll.bind(this),a=1)},n.prototype.poll=function(){f&&clearTimeout(f),f=setTimeout(function(){var e,o,t,n,r,i,l;for(t in c)for(o=c[t],i=0,l=o.length;l>i;i++)n=o[i],e=n.elem,r=this.detect(e,n.px,n.full),(t===p?!r:r)?n.tr||(e["_"+t]?(n.callback&&n.callback.apply(e,[]),n.tr=1):(o.splice(i,1),i--,l--)):n.tr=0}.bind(this),0)},o.exports=new n},{}]},{},[1])(1)});