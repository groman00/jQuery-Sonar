!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var o;o="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,o.sonar=e()}}(function(){var e,o,t;return function e(o,t,n){function r(i,f){if(!t[i]){if(!o[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(l)return l(i,!0);var u=new Error("Cannot find module '"+i+"'");throw u.code="MODULE_NOT_FOUND",u}var a=t[i]={exports:{}};o[i][0].call(a.exports,function(e){var t=o[i][1][e];return r(t?t:e)},a,a.exports,e,o,t,n)}return t[i].exports}for(var l="function"==typeof require&&require,i=0;i<n.length;i++)r(n[i]);return r}({1:[function(e,o,t){function n(){}var r=window,l=document,i=l.body,f,c={},u=0,a="scrollin",p="scrollout";c[a]=[],c[p]=[],n.prototype.detect=function(e,o,t){var n,f,c,u,a,p;if(e){if(i||(i=l.body),n=e,f=0,c=i.offsetHeight,u=r.innerHeight||l.documentElement.clientHeight||i.clientHeight||0,a=l.documentElement.scrollTop||r.pageYOffset||i.scrollTop||0,p=e.offsetHeight||0,!e.sonarElemTop||e.sonarBodyHeight!==c){if(n.offsetParent)do f+=n.offsetTop;while(n=n.offsetParent);e.sonarElemTop=f,e.sonarBodyHeight=c}return o=void 0===o?0:o,!(e.sonarElemTop+(t?0:p)<a-o||e.sonarElemTop+(t?p:0)>a+u+o)}},n.prototype.addSonar=function(e,o){var t=o.px,n=o.full,l=o.evt,i=this.detect(e,t,n),f=0;e["_"+l]=1,(l===p?!i:i)&&(o.callback&&o.callback.apply(null,[]),f=1),c[l].push({elem:e,px:t,full:n,tr:f,callback:o.callback}),u||(r.onscroll=this.poll.bind(this),u=1)},n.prototype.poll=function(){f&&clearTimeout(f),f=setTimeout(function(){var e,o,t,n,r,l,i;for(t in c)for(o=c[t],l=0,i=o.length;i>l;l++)n=o[l],e=n.elem,r=this.detect(e,n.px,n.full),(t===p?!r:r)?n.tr||(e["_"+t]?(n.callback&&n.callback.apply(null,[]),n.tr=1):(o.splice(l,1),l--,i--)):n.tr=0}.bind(this),0)},o.exports=new n},{}]},{},[1])(1)});